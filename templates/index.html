<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Skin Type Identifier</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
    <h1>Upload an Image to Identify Skin Type</h1>
    
    <form action="{{ url_for('predict') }}" method="post" enctype="multipart/form-data">
        <label for="file">Upload Image:</label>
        <input type="file" name="file" id="file" required accept="image/*">
        <div id="imagePreview"></div>
        
        <label for="age">Age:</label>
        <input type="number" name="age" id="age" required min="13" max="120">
        
        <label for="allergies">Do you have any allergies?</label>
        <select name="allergies" id="allergies" required>
            <option value="no">No</option>
            <option value="yes">Yes</option>
        </select>
        
        <input type="submit" value="Identify Skin Type">
    </form>

    <div id="results">
        {% if prediction %}
            <h2>Prediction: {{ prediction }}</h2>
            <p>Recommendations: {{ recommendation }}</p>
        {% endif %}
    </div>

    <script>
        document.getElementById('file').addEventListener('change', function(event) {
            var file = event.target.files[0];
            var reader = new FileReader();
            
            reader.onload = function(e) {
                var img = document.createElement('img');
                img.src = e.target.result;
                img.style.maxWidth = '100%';
                img.style.maxHeight = '300px';
                
                var previewArea = document.getElementById('imagePreview');
                previewArea.innerHTML = '';
                previewArea.appendChild(img);
            }
            
            reader.readAsDataURL(file);
        });
    </script>
</body>
</html>
